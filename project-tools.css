:root{
  --bg:#0b0e15; --bg2:#0d111a; --ink:#eaf1ff; --muted:#9aa5b1;
  --card:#141826; --stroke:rgba(255,255,255,.08);
  --primary:#6ea8fe; --primary2:#3d7cff;
  --radius:14px; --shadow:0 8px 28px rgba(0,0,0,.4), inset 0 1px 0 rgba(255,255,255,.03);
  --footer-h: 58px;
}

/* Базовые и фон: цельный, без разрывов */
*{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
body{
  margin:0;color:var(--ink);
  font:14.5px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  min-height:100dvh;
  padding-bottom: calc(var(--footer-h) + 16px);
  position:relative;
  overflow-x:hidden;
}
/* Неподвижный фон, покрывающий всю страницу */
body::before{
  content:"";
  position:fixed; inset:0; z-index:-1;
  background:
    radial-gradient(1200px 800px at 12% -20%, rgba(103,132,255,.18), transparent 60%),
    radial-gradient(1100px 900px at 120% -10%, rgba(50,235,255,.14), transparent 55%),
    linear-gradient(180deg, var(--bg), var(--bg2));
  background-repeat:no-repeat;
  background-size:cover, cover, 100% 100%;
  will-change:transform;
  transform:translateZ(0);
}

/* Шапка */
.app-header{
  position:sticky; top:0; z-index:20;
  background:rgba(9,11,18,.72);
  backdrop-filter: blur(8px);
  border-bottom:1px solid var(--stroke);
}
.app-header .wrap{
  max-width:1100px; margin:0 auto;
  display:flex; align-items:center; gap:18px;
  padding:14px 16px; justify-content:space-between;
}
.logo{display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit}
.orb{width:34px;height:34px;border-radius:50%;
  background:radial-gradient(35% 35% at 30% 30%, #7cc2ff, #6b6bff 60%, #2b2b4d 100%);
  filter: drop-shadow(0 8px 20px rgba(110,168,254,.45));
}
.orb.small{width:18px;height:18px;filter: drop-shadow(0 4px 12px rgba(110,168,254,.4))}
.brand{display:flex;flex-direction:column;line-height:1.1}
.brand strong{font-size:15px;letter-spacing:.2px}
.brand em{font-style:normal;color:var(--muted);font-size:12px}

.tabs{display:flex;gap:8px;flex-wrap:wrap}
.tab{
  border:1px solid var(--stroke); background:rgba(255,255,255,.03);
  color:var(--ink); padding:8px 12px; border-radius:10px; cursor:pointer
}
.tab.active{background:rgba(110,168,254,.14);border-color:rgba(110,168,254,.35)}

/* Основной контейнер */
.container{max-width:1100px;margin:20px auto;padding:0 16px}
.panel{display:none}
.panel.active{display:block}

.card{
  border-radius:var(--radius);
  background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
  border:1px solid var(--stroke);
  box-shadow:var(--shadow);
  padding:16px;
}
h2{margin:0 0 10px 0;font-size:18px}

/* Сетки и формы */
.grid{display:grid;gap:12px;grid-template-columns:repeat(3,1fr)}
.grid .field.wide{grid-column:span 3}
@media (max-width:980px){ .grid{grid-template-columns:repeat(2,1fr)} .grid .field.wide{grid-column:span 2} }
@media (max-width:640px){ .grid{grid-template-columns:1fr} .grid .field.wide{grid-column:auto} }

.field{display:flex;flex-direction:column;gap:6px}
.field span{color:var(--muted);font-size:12px}
input[type=text],input[type=number],textarea{
  width:100%;padding:12px 12px;border-radius:10px;
  background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.1);
  color:var(--ink); outline:none
}
textarea.mono{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}

.actions{display:flex;gap:10px;margin-top:10px;flex-wrap:wrap}
.btn{
  border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.04);
  color:var(--ink); border-radius:10px; padding:10px 14px; cursor:pointer
}
.btn[disabled]{opacity:.55;cursor:not-allowed}
.btn.primary{background:linear-gradient(180deg,var(--primary),var(--primary2));color:#fff;border-color:transparent}

.preview{margin-top:14px}
.pre{
  white-space:pre-wrap; word-break:break-word; padding:12px;
  background:rgba(0,0,0,.35); border:1px dashed rgba(255,255,255,.12); border-radius:10px
}

/* Две колонки выходов */
.two-col{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}
@media (max-width:980px){ .two-col{grid-template-columns:1fr} }

/* Футер – фиксированный снизу */
.app-footer.fixed{
  position:fixed; left:0; right:0; bottom:0; height:var(--footer-h);
  background:rgba(9,11,18,.78);
  backdrop-filter: blur(8px);
  border-top:1px solid var(--stroke);
  z-index:30;
}
.app-footer .wrap{
  max-width:1100px; margin:0 auto;
  padding:12px 16px; height:100%;
  display:flex; align-items:center; justify-content:space-between;
}
.footer-left{display:flex;align-items:center;gap:10px}
.footer-right a{color:var(--muted);text-decoration:none}
.footer-right a:hover{color:var(--ink)}

/* Тосты */
.toast{
  position:fixed;right:16px;bottom:calc(var(--footer-h) + 12px);z-index:100;
  background:rgba(20,20,28,.92);color:var(--ink);
  border:1px solid rgba(255,255,255,.12);border-radius:12px;
  padding:10px 12px;box-shadow:var(--shadow);max-width:420px
}
.toast.ok{border-color:rgba(68,209,159,.45)}
.toast.err{border-color:rgba(255,107,107,.45)}

/* Scrollbars */
*{scrollbar-width:thin;scrollbar-color:#2a3a4f #0f161f}
*::-webkit-scrollbar{height:10px;width:10px}
*::-webkit-scrollbar-track{background:#0f161f}
*::-webkit-scrollbar-thumb{background:#2a3a4f;border:2px solid #0f161f;border-radius:8px}
